{"version":3,"sources":["webpack:///(webpack)/hot sync nonrecursive ^\\.\\/log$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/shared/error-logger.service.ts","webpack:///./src/app/shared/global-error-handler.ts","webpack:///./src/app/shared/oidc/open-id-connect.service.ts","webpack:///./src/app/shared/oidc/redirect-silent-renew/redirect-silent-renew.component.html","webpack:///./src/app/shared/oidc/redirect-silent-renew/redirect-silent-renew.component.scss","webpack:///./src/app/shared/oidc/redirect-silent-renew/redirect-silent-renew.component.ts","webpack:///./src/app/shared/oidc/require-authenticated-user-route.guard.ts","webpack:///./src/app/shared/oidc/signin-oidc/signin-oidc.component.html","webpack:///./src/app/shared/oidc/signin-oidc/signin-oidc.component.scss","webpack:///./src/app/shared/oidc/signin-oidc/signin-oidc.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var map = {\n\t\"./log\": \"./node_modules/webpack/hot/log.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\";","var map = {\n\t\"./yc/yc.module\": [\n\t\t\"./src/app/yc/yc.module.ts\",\n\t\t\"yc-yc-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","module.exports = \"<router-outlet> </router-outlet>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'YCWeb-Client';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatButtonModule, MatCheckboxModule } from '@angular/material';\n\nimport { AppComponent } from './app.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RequireAuthenticatedUserRouteGuard } from './shared/oidc/require-authenticated-user-route.guard';\nimport { SigninOidcComponent } from './shared/oidc/signin-oidc/signin-oidc.component';\nimport { RedirectSilentRenewComponent } from './shared/oidc/redirect-silent-renew/redirect-silent-renew.component';\nimport { OpenIdConnectService } from './shared/oidc/open-id-connect.service';\nimport { GlobalErrorHandler } from './shared/global-error-handler';\nimport { ErrorLoggerService } from './shared/error-logger.service';\n\nconst routes: Routes = [\n  { path: 'yc', loadChildren: './yc/yc.module#YcModule' },\n  { path: 'signin-oidc', component: SigninOidcComponent },\n  { path: 'redirect-silentrenew', component: RedirectSilentRenewComponent },\n  { path: '**', redirectTo: 'yc' }\n];\n\n//NgModule 為Ng的裝飾器，傳入裝飾器裡的物件，在 Angular 裡稱作中繼資料 （MetaData），用來告訴 Angular 要怎麼樣處理接下來的的類別\n@NgModule({\n  //會將**可宣告(declarable)**的類別放在這個設定,樣板顯示有關的程式，都屬於這裡面的設定\n  declarations: [\n    AppComponent,\n    SigninOidcComponent,\n    RedirectSilentRenewComponent\n  ],\n  //代表要使用哪些模組所提供的功能\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    RouterModule.forRoot(routes),\n    HttpClientModule\n  ],\n  //providers: [] 主要是用來決定哪些服務(service)允許被注入\n  providers: [\n    OpenIdConnectService,\n    RequireAuthenticatedUserRouteGuard,   //註冊guard的服務\n    GlobalErrorHandler,\n    ErrorLoggerService\n  ],\n  //bootstrap : [] 裡面的元件會自動被啟動，放在 bootstrap: [] 中的元件，會自動被視為放入 entryComponents: [] 之中。\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ErrorLoggerService {\n\n  constructor() { }\n  logError(error: any) {\n\n    // when needed use this service to log errors to\n    // various locations, diversify between error types, ...\n    // for the demo, we're just logging to the console\n\n    // add application name, date, ... any useful\n    // additional info to the error message.\n    console.error('YC Web', 'An error happened', error);\n  }\n}\n","import { Injectable, ErrorHandler } from '@angular/core';\nimport { ErrorLoggerService } from './error-logger.service';\n\n@Injectable()\nexport class GlobalErrorHandler extends ErrorHandler {\n    constructor(private errorLoggerService: ErrorLoggerService) {\n        super();\n    }\n\n    handleError(error) {\n        this.errorLoggerService.logError(error);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { UserManager, User } from 'oidc-client';\nimport { environment } from '../../../environments/environment';\nimport { ReplaySubject } from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OpenIdConnectService {\n\n  private userManager: UserManager = new UserManager(environment.openIdConnectSettings);\n\n  private currentUser: User;\n\n  userLoaded$ = new ReplaySubject<boolean>(1);  //userLoaded可得知用戶登入成功 或 登出成功 (命名規範習慣符號結尾)待釐清  影片: 11:30 念一個objarulble  聽不懂 fuck!!\n\n  get userAvailable(): boolean {\n    return this.currentUser != null;\n  }\n\n  get user(): User {\n    return this.currentUser;\n  }\n\n  constructor() {\n    this.userManager.clearStaleState();  //先清空現行狀態\n\n    //用戶登入成功就會進來一個User\n    this.userManager.events.addUserLoaded(user => {\n      if (!environment.production) {\n        console.log('User loaded.', user);\n      }\n      this.currentUser = user;\n      this.userLoaded$.next(true);  //廣播一下告知系統 User已經登入\n    });\n\n    this.userManager.events.addUserUnloaded((e) => {\n      if (!environment.production) {\n        console.log('User unloaded');\n      }\n      this.currentUser = null;\n      this.userLoaded$.next(false); //廣播一下告知系統 User已經登出\n    });\n  }\n\n  //登入頁面\n  triggerSignIn() {\n    this.userManager.signinRedirect().then(() => {\n      if (!environment.production) {\n        console.log('Redirection to signin triggered.');\n      }\n    });\n  }\n\n  //登入成功後要做的事情\n  handleCallback() {\n    this.userManager.signinRedirectCallback().then(user => {\n      if (!environment.production) {\n        console.log('Callback after signin handled.', user);\n      }\n    });\n  }\n\n  //重整的時候要做的事情\n  handleSilentCallback() {\n    this.userManager.signinSilentCallback().then(user => {\n      this.currentUser = user;\n      if (!environment.production) {\n        console.log('Callback after silent signin handled.', user);\n      }\n    });\n  }\n\n  //登出頁面\n  triggerSignOut() {\n    this.userManager.signoutRedirect().then(resp => {\n      if (!environment.production) {\n        console.log('Redirection to sign out triggered.', resp);\n      }\n    });\n  }\n}\n","module.exports = \"<p>\\n  redirect-silent-renew works!\\n</p>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9vaWRjL3JlZGlyZWN0LXNpbGVudC1yZW5ldy9yZWRpcmVjdC1zaWxlbnQtcmVuZXcuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { OpenIdConnectService } from '../open-id-connect.service';\n\n@Component({\n  selector: 'app-redirect-silent-renew',\n  templateUrl: './redirect-silent-renew.component.html',\n  styleUrls: ['./redirect-silent-renew.component.scss']\n})\nexport class RedirectSilentRenewComponent implements OnInit {\n\n  constructor(private openIdConnectService: OpenIdConnectService) { }\n\n  ngOnInit() {\n    this.openIdConnectService.handleSilentCallback();  //直接呼叫opid servcie的重整方法\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { OpenIdConnectService } from './open-id-connect.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequireAuthenticatedUserRouteGuard implements CanActivate {\n  constructor(\n    private openIdConnectService: OpenIdConnectService,\n    private router: Router) { }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    if (this.openIdConnectService.userAvailable) {\n      return true;  //如果用戶是登入的就有權限看該頁面\n    } else {\n      // trigger signin\n      this.openIdConnectService.triggerSignIn();   //沒權限就跳轉到Idp4 登入頁面\n      return false; //如果用戶不是登入的狀態就是沒權限看該頁面\n    }\n  }\n}\n","module.exports = \"<p>\\n  Processing request...\\n</p>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9vaWRjL3NpZ25pbi1vaWRjL3NpZ25pbi1vaWRjLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { OpenIdConnectService } from '../open-id-connect.service';\nimport { environment } from '../../../../environments/environment';\n\n@Component({\n  selector: 'app-signin-oidc',\n  templateUrl: './signin-oidc.component.html',\n  styleUrls: ['./signin-oidc.component.scss']\n})\nexport class SigninOidcComponent implements OnInit {\n\n  constructor(private openIdConnectService: OpenIdConnectService,\n    private router: Router) { }\n\n  ngOnInit() {\n    this.openIdConnectService.userLoaded$.subscribe((userLoaded) => {\n      if (userLoaded) {\n        this.router.navigate(['./']);  //登入成功就導到首頁\n      } else {\n        if (!environment.production) {\n          console.log('An error happened: user wasn\\'t loaded.');  //登入失敗就Log一下\n        }\n      }\n    });\n\n    this.openIdConnectService.handleCallback();  //登入結束後可以做的事情\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n\n  production: false,\n  apiUrlBase: '/api',\n  //apiUrlBase: \"https://localhost:6001/api\"\n  openIdConnectSettings: {\n    authority: 'https://localhost:5001/',\n    client_id: 'yc-client',\n    redirect_uri: 'http://localhost:4200/signin-oidc',\n    scope: 'openid profile email restapi',\n    response_type: 'id_token token',\n    post_logout_redirect_uri: 'http://localhost:4200/',\n    silent_redirect_uri: 'http://localhost:4200/redirect-silentrenew',\n    automaticSilentRenew: true,  //先註解掉避免一直重新連線\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport 'hammerjs';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}